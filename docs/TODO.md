# TODO — ollama-subtitle-translator

Ниже актуальный список задач и статус их выполнения.

- [x] Create TODO plan
- [x] Run opus-agent to analyze repository
- [x] Publish opus-agent response to user
- [x] Offer fixes and improvement suggestions
- [x] Write PLAN.md
- [x] Implement retry + uuid tags in `translate_srt.py`
- [x] Switch to `ThreadPoolExecutor` in `app.py`
- [x] Add JSON contract + chunking to `translate_srt.py`
- [x] Use `Translator.translate_batch` in `app.py` worker
- [x] Add cleanup of `UPLOAD_DIR` and TTL for `tasks`
- [x] Expose UI fields for `model` / `temperature` / `chunk_size`
- [x] Add structured logging for API responses and errors
- [x] Write unit tests for `parse_srt` and mock Ollama responses
- [x] Implement graceful shutdown for executor and workers
- [x] Update README with usage, limitations, and Ollama API checks

✅ Все задачи выполнены.
